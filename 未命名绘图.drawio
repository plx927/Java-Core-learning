<mxfile host="app.diagrams.net" modified="2022-09-19T18:29:51.562Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36" etag="74IMbiGMH2SCNaccGLgc" version="20.2.8" type="github" pages="5">
  <diagram id="wUIe8mJwas9haFbdkOFD" name="NameServer架构">
    <mxGraphModel dx="1278" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="4681" pageHeight="3300" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="s-idyPbzvVlncBuHliUa-13" value="配置类" style="shape=umlFrame;whiteSpace=wrap;html=1;width=60;height=30;boundedLbl=1;verticalAlign=middle;align=left;spacingLeft=5;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1820" y="510" width="230" height="140" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-29" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#ffcccc;" parent="1" vertex="1">
          <mxGeometry x="540" y="1010" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-22" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#ffcccc;" parent="1" vertex="1">
          <mxGeometry x="500" y="820" width="260" height="150" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-10" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#ffcccc;" parent="1" vertex="1">
          <mxGeometry x="500" y="640" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-104" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="990" y="90" width="420" height="500" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-86" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#666666;fillColor=#f5f5f5;dashed=1;gradientColor=#b3b3b3;" parent="1" vertex="1">
          <mxGeometry x="700" y="465" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-30" value="组件管理类" style="shape=umlFrame;whiteSpace=wrap;html=1;width=120;height=30;boundedLbl=1;verticalAlign=middle;align=left;spacingLeft=5;strokeColor=#000000;fillColor=#dae8fc;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1770" y="750" width="220" height="360" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-44" value="网络通信组件" style="shape=umlFrame;whiteSpace=wrap;html=1;width=90;height=30;boundedLbl=1;verticalAlign=middle;align=left;spacingLeft=5;fillColor=#fad7ac;strokeColor=#000000;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1420" y="790" width="250" height="350" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.357;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="s-idyPbzvVlncBuHliUa-1" target="s-idyPbzvVlncBuHliUa-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1630" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6wlQWtySqtWSVoqvRurm-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.522;entryY=-0.004;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="s-idyPbzvVlncBuHliUa-1" target="9qpIoXIW9haDFXvM1KQP-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1885" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="H1VW1Z-M_b5AYqm0kcWa-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.21;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="s-idyPbzvVlncBuHliUa-1" target="Ah4ReLh6Q1P7ksSwNjXb-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1473" y="660" />
              <mxPoint x="1473" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-1" value="NameSrvController" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1570" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-10" value="" style="group;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1800" y="800" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-7" value="&lt;span style=&quot;&quot;&gt;KV配置管理组件&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="s-idyPbzvVlncBuHliUa-10" vertex="1">
          <mxGeometry width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-9" value="&lt;span style=&quot;&quot;&gt;KVConfigManager&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="s-idyPbzvVlncBuHliUa-10" vertex="1">
          <mxGeometry y="20" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-11" value="NameSrvConfig" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1890" y="520" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-12" value="NettyServerConfig" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1890" y="565" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-15" value="" style="group;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1800" y="1040" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-16" value="路由配置管理组件" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="s-idyPbzvVlncBuHliUa-15" vertex="1">
          <mxGeometry width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-17" value="&lt;span style=&quot;&quot;&gt;RouteInfoManager&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="s-idyPbzvVlncBuHliUa-15" vertex="1">
          <mxGeometry y="20" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-20" target="s-idyPbzvVlncBuHliUa-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-20" target="s-idyPbzvVlncBuHliUa-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-20" value="topicQueueTable&lt;br&gt;结构：Map&amp;lt;Topic,List&amp;lt;&amp;nbsp;QueueData&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2060" y="850" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-21" value="Topic是一个逻辑上的概念。&lt;br&gt;每个Topic会有多个queue组成，queue分散在不同的broker上。&lt;br&gt;每个queue都是一个数据分区，实现了分布式的数据存储" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2280" y="740" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-28" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="2410" y="820" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-25" value="QueueData" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="s-idyPbzvVlncBuHliUa-28" vertex="1">
          <mxGeometry width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-27" value="brokerName&lt;br&gt;readQueueNums&lt;br&gt;writeQueueNums" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="s-idyPbzvVlncBuHliUa-28" vertex="1">
          <mxGeometry y="20" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-30" value="每一个Topic，会以队列的形式分布在不同的Broker中。&lt;br&gt;同时在Broker中，Topic会区分写队列和读队列。&lt;br&gt;区分读写队列的目的是为了Topic的扩容和缩容。" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2610" y="840" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-27" target="s-idyPbzvVlncBuHliUa-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-33" target="s-idyPbzvVlncBuHliUa-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-33" value="brokerAddrTable&lt;br&gt;结构：Map&amp;lt;brokerName,BrokerData&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2055" y="940" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-34" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="2410" y="930" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-35" value="BrokerData" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="s-idyPbzvVlncBuHliUa-34" vertex="1">
          <mxGeometry width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-36" value="clusterName&lt;br&gt;brokerName&lt;br&gt;Map&amp;lt;brokerId,brokerAddr&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="s-idyPbzvVlncBuHliUa-34" vertex="1">
          <mxGeometry y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-39" value="broker的拓扑架构：&lt;br&gt;一个broker集群，由多个broker组组成，不同的broker组通过不同的brokerName来划分。&lt;br&gt;一个broker组，由多台broker机器组成，形成高可用和主从复制。" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2670" y="940" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="s-idyPbzvVlncBuHliUa-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-36" target="s-idyPbzvVlncBuHliUa-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9qpIoXIW9haDFXvM1KQP-2" target="9qpIoXIW9haDFXvM1KQP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-2" value="clusterAddrTable&lt;br&gt;结构：Map&amp;lt;clusterName,Set&amp;lt;brokerName&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2060" y="1050" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-3" value="一个NameSrv集群，可以管理多个broker集群。每个broker集群供不同的业务使用" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2400" y="1057.25" width="290" height="35.5" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9qpIoXIW9haDFXvM1KQP-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2400" y="1165.0588235294117" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9qpIoXIW9haDFXvM1KQP-6" target="9qpIoXIW9haDFXvM1KQP-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2180" y="1220" />
              <mxPoint x="2535" y="1220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-6" value="brokerLiveTable&lt;br&gt;结构：Map&amp;lt;brokerAddr,BrokerLiveInfo&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2055" y="1140" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-7" value="管理和broker之间的长连接、是否还有心跳信息等" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2390" y="1240" width="290" height="35.5" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-9" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="2400" y="1120" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-10" value="BrokerLiveInfo" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="9qpIoXIW9haDFXvM1KQP-9" vertex="1">
          <mxGeometry width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-11" value="Channel&lt;br&gt;lastUpdateTimestamp&lt;br&gt;haServerAddr" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;" parent="9qpIoXIW9haDFXvM1KQP-9" vertex="1">
          <mxGeometry y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9qpIoXIW9haDFXvM1KQP-20" target="9qpIoXIW9haDFXvM1KQP-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-20" value="filterServerTable&lt;br&gt;结构：Map&amp;lt;brokerAddr,List&amp;lt;Filter Server Addr&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2035" y="1320" width="270" height="54.5" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-21" value="Filter Server是RocketMQ的一个高阶功能，正常情况下，我们可以基于tag来进行数筛选，但是无法支持更加细粒度的筛选。通过FilterServer，我们可以在每台Broker上启动一个FilerServer，在FilterServer中上传自定义的过滤条件类。在消费数据的时候，先让broker把数据传到本地的Filter Server中，Filter Server基于我们定义的过滤条件，把筛选后的数据再给到Consumer。" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="2390" y="1294.5" width="410" height="105.5" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-16" target="s-idyPbzvVlncBuHliUa-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2020" y="1050" />
              <mxPoint x="2020" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-17" target="s-idyPbzvVlncBuHliUa-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2020" y="1075" />
              <mxPoint x="2020" y="952" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-17" target="9qpIoXIW9haDFXvM1KQP-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-17" target="9qpIoXIW9haDFXvM1KQP-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1910" y="1165" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9qpIoXIW9haDFXvM1KQP-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s-idyPbzvVlncBuHliUa-17" target="9qpIoXIW9haDFXvM1KQP-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1910" y="1347" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="iLA2IdmYQcCNCICKabsW-21" target="Ah4ReLh6Q1P7ksSwNjXb-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iLA2IdmYQcCNCICKabsW-21" value="cluserAddrTable" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="2840" y="1105" width="210" height="110" as="geometry" />
        </mxCell>
        <mxCell id="iLA2IdmYQcCNCICKabsW-22" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="iLA2IdmYQcCNCICKabsW-21" vertex="1">
          <mxGeometry y="30" width="210" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iLA2IdmYQcCNCICKabsW-23" value="DefaultCluster" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="iLA2IdmYQcCNCICKabsW-22" vertex="1">
          <mxGeometry width="105" height="80" as="geometry">
            <mxRectangle width="105" height="80" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iLA2IdmYQcCNCICKabsW-24" value="broker-a&lt;br&gt;broker-b" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="iLA2IdmYQcCNCICKabsW-22" vertex="1">
          <mxGeometry x="105" width="105" height="80" as="geometry">
            <mxRectangle width="105" height="80" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.02;entryY=0.206;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-1" target="Ah4ReLh6Q1P7ksSwNjXb-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3500" y="1160" />
              <mxPoint x="3500" y="1548" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-1" value="brokerAddrTable" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="3140" y="1110" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-2" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-1" vertex="1">
          <mxGeometry y="30" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-3" value="broker-a" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-2" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-4" value="BrokerData&lt;br&gt;存放多台broker的IP信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-2" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-5" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-1" vertex="1">
          <mxGeometry y="70" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-6" value="broker-b" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-5" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-7" value="BrokerData&lt;br&gt;存放多台broker的IP信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-5" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-10" value="brokerLiveTable" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="3140" y="1280" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-11" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-10" vertex="1">
          <mxGeometry y="30" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-12" value="节点1 IP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-11" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-13" value="保活信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-11" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-14" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-10" vertex="1">
          <mxGeometry y="70" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-15" value="节点2 IP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-14" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-16" value="保活信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-14" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.016;entryY=0.05;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-2" target="Ah4ReLh6Q1P7ksSwNjXb-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3500" y="1160" />
              <mxPoint x="3500" y="1352" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-19" value="filterServerTable" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="3140" y="1470" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-20" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-19" vertex="1">
          <mxGeometry y="30" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-21" value="节点1 IP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-20" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-22" value="filterServer1,filterServer2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-20" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-23" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-19" vertex="1">
          <mxGeometry y="70" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-24" value="节点2 IP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-23" vertex="1">
          <mxGeometry width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-25" value="filterServer3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-23" vertex="1">
          <mxGeometry x="140" width="140" height="40" as="geometry">
            <mxRectangle width="140" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-27" target="Ah4ReLh6Q1P7ksSwNjXb-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-27" value="topicQueueTable" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="3095" y="895" width="370" height="140" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-28" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-27" vertex="1">
          <mxGeometry y="30" width="370" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-29" value="topicA" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-28" vertex="1">
          <mxGeometry width="185" height="55" as="geometry">
            <mxRectangle width="185" height="55" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-30" value="QueueData1&lt;br&gt;QueueData2&lt;br&gt;QueueData中有brokerName信息" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-28" vertex="1">
          <mxGeometry x="185" width="185" height="55" as="geometry">
            <mxRectangle width="185" height="55" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-31" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="Ah4ReLh6Q1P7ksSwNjXb-27" vertex="1">
          <mxGeometry y="85" width="370" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-32" value="topicB" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-31" vertex="1">
          <mxGeometry width="185" height="55" as="geometry">
            <mxRectangle width="185" height="55" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-33" value="QueueData1&lt;br&gt;QueueData2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" parent="Ah4ReLh6Q1P7ksSwNjXb-31" vertex="1">
          <mxGeometry x="185" width="185" height="55" as="geometry">
            <mxRectangle width="185" height="55" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-41" value="远程网络通信组件" style="group;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1460" y="840" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-43" value="&lt;span style=&quot;&quot;&gt;RemotingServer&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="Ah4ReLh6Q1P7ksSwNjXb-41" vertex="1">
          <mxGeometry y="20" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-48" value="文件监听组件&#xa;" style="group;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1795" y="915" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-50" value="&lt;span style=&quot;&quot;&gt;FileWatchService&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="Ah4ReLh6Q1P7ksSwNjXb-48" vertex="1">
          <mxGeometry y="20" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-55" value="" style="group;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1460" y="1010" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-56" value="网络请求处理器" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="Ah4ReLh6Q1P7ksSwNjXb-55" vertex="1">
          <mxGeometry width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-57" value="&lt;span style=&quot;&quot;&gt;DefaultRequestProcessor&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="Ah4ReLh6Q1P7ksSwNjXb-55" vertex="1">
          <mxGeometry y="20" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-62" target="Ah4ReLh6Q1P7ksSwNjXb-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-62" target="gRX_p2emA7Th4d0u0ITd-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="910" y="1060" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1020" y="869" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-20" value="注册DefaultReqeustProcessor&lt;br&gt;和RemotingExecutor" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;labelBackgroundColor=none;" parent="gRX_p2emA7Th4d0u0ITd-18" vertex="1" connectable="0">
          <mxGeometry x="-0.2262" y="1" relative="1" as="geometry">
            <mxPoint x="11" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-62" value="NettyRemotingServer" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#B20000;fillColor=#e51400;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="1170" y="842.5" width="140" height="52.5" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-43" target="Ah4ReLh6Q1P7ksSwNjXb-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1420" y="869" />
              <mxPoint x="1420" y="869" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.017;entryY=0.367;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-64" target="Ah4ReLh6Q1P7ksSwNjXb-86" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1190" y="628" />
              <mxPoint x="940" y="628" />
              <mxPoint x="940" y="513" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1240" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-9" value="发送请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-4" vertex="1" connectable="0">
          <mxGeometry x="-0.1744" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-64" value="NettyRemotingAbstract" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1170" y="710" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-67" value="继承" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1240" y="800" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-73" value="具体实现" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1350" y="840" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-82" value="semaphoreOneway" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#f9f7ed;" parent="1" vertex="1">
          <mxGeometry x="730" y="495" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-83" value="semaphoreAsync" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#f9f7ed;" parent="1" vertex="1">
          <mxGeometry x="730" y="545" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-87" value="控制并发网络发送的最大量" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="710" y="465" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-88" value="responseTable：缓存一次正在未处理完请求的结果&lt;br&gt;Map&amp;lt;请求Id,ResponseFuture&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#cce5ff;" parent="1" vertex="1">
          <mxGeometry x="1030" y="120" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-90" value="processorTable：&lt;br&gt;请求类型和处理器的映射表&lt;br&gt;Map&amp;lt;请求类型,Pair&amp;lt;NettyRequestProcessor,线程池&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#cdeb8b;" parent="1" vertex="1">
          <mxGeometry x="1030" y="195" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-91" value="defaultRequestProcessor：默认的请求处理器以及处理线程&lt;br&gt;Pair&amp;lt;NettyRequestProcessor,线程池&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#ffcc99;" parent="1" vertex="1">
          <mxGeometry x="1030" y="285" width="330" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-92" value="ServiceThread" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#6D1F00;fillColor=#a0522d;" parent="1" vertex="1">
          <mxGeometry x="1490" y="1180" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-50" target="Ah4ReLh6Q1P7ksSwNjXb-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-94" value="继承" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="Ah4ReLh6Q1P7ksSwNjXb-93" vertex="1" connectable="0">
          <mxGeometry x="0.7401" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-95" target="gRX_p2emA7Th4d0u0ITd-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-5" value="继承" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="gRX_p2emA7Th4d0u0ITd-4" vertex="1" connectable="0">
          <mxGeometry x="0.2084" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-95" value="NettyEventExecutor&lt;br&gt;网络连接事件处理线程" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#f9f7ed;" parent="1" vertex="1">
          <mxGeometry x="1030" y="370" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-102" value="SSLContext&lt;br&gt;Netty内嵌的SSL安全通信组件&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#56517e;fillColor=#d0cee2;" parent="1" vertex="1">
          <mxGeometry x="1030" y="450" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-110" value="RemotingCommand" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="850" y="710" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-106" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="Ah4ReLh6Q1P7ksSwNjXb-110" vertex="1">
          <mxGeometry y="15" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-109" value="RemotingCommand" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="Ah4ReLh6Q1P7ksSwNjXb-110" vertex="1">
          <mxGeometry width="150" height="18.75" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-113" value="rpcHooks&lt;br&gt;RPC回调钩子" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="1" vertex="1">
          <mxGeometry x="1030" y="525" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-114" value="" style="group;fillColor=#76608a;strokeColor=#432D57;fontColor=#ffffff;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1460" y="1080" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-115" value="网络请求处理线程池" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontColor=#ffffff;" parent="Ah4ReLh6Q1P7ksSwNjXb-114" vertex="1">
          <mxGeometry width="179.99999999999994" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-116" value="&lt;span style=&quot;&quot;&gt;remotingExecutor&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontColor=#ffffff;" parent="Ah4ReLh6Q1P7ksSwNjXb-114" vertex="1">
          <mxGeometry y="20" width="179.99999999999994" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.847;entryY=0.974;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;dashed=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-57" target="Ah4ReLh6Q1P7ksSwNjXb-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-125" value="注册网络请求处理器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="Ah4ReLh6Q1P7ksSwNjXb-117" vertex="1" connectable="0">
          <mxGeometry x="-0.3784" y="-3" relative="1" as="geometry">
            <mxPoint x="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.639;entryY=1.001;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;endArrow=classic;endFill=1;dashed=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-116" target="Ah4ReLh6Q1P7ksSwNjXb-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-126" value="注册请求处理器的线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="Ah4ReLh6Q1P7ksSwNjXb-124" vertex="1" connectable="0">
          <mxGeometry x="-0.4329" y="-4" relative="1" as="geometry">
            <mxPoint x="-4" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ah4ReLh6Q1P7ksSwNjXb-132" value="Configuration" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1890" y="610" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-3" value="ServiceThread" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#6D1F00;fillColor=#a0522d;" parent="1" vertex="1">
          <mxGeometry x="710" y="382.5" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-7" value="网络库组件核心属性" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1080" y="90" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-9" value="" style="group;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1460" y="920" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-10" value="网络连接事件监听器" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="gRX_p2emA7Th4d0u0ITd-9" vertex="1">
          <mxGeometry width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-11" value="&lt;span style=&quot;&quot;&gt;BrokerHousekeepingService&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="gRX_p2emA7Th4d0u0ITd-9" vertex="1">
          <mxGeometry y="20" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gRX_p2emA7Th4d0u0ITd-14" value="defaultRequestProcessor：默认的请求处理器以及处理线程&lt;br&gt;Pair&amp;lt;NettyRequestProcessor,线程池&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#36393d;fillColor=#ffcc99;" parent="1" vertex="1">
          <mxGeometry x="900" y="980" width="330" height="55" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;labelBackgroundColor=none;fontColor=#000000;endArrow=none;endFill=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="gRX_p2emA7Th4d0u0ITd-11" target="Ah4ReLh6Q1P7ksSwNjXb-95" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1720" y="370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1720" y="955" />
              <mxPoint x="1720" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-3" value="回调处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-2" vertex="1" connectable="0">
          <mxGeometry x="0.5454" y="4" relative="1" as="geometry">
            <mxPoint x="-44" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="R35EvjBFJ_EF52CEYh5g-5" target="Ah4ReLh6Q1P7ksSwNjXb-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="635" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-12" value="添加到responseTable中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-8" vertex="1" connectable="0">
          <mxGeometry x="-0.2435" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-5" value="ResponseFuture" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="560" y="650" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" target="R35EvjBFJ_EF52CEYh5g-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="925" y="710" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="925" y="670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-16" value="同步发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-15" vertex="1" connectable="0">
          <mxGeometry x="-0.0128" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-17" value="ResponseFture阻塞调用线程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="530" y="730" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-18" value="CountDownLatch" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="560" y="690" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=none;endFill=0;" parent="1" source="R35EvjBFJ_EF52CEYh5g-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="545" as="targetPoint" />
            <Array as="points">
              <mxPoint x="370" y="845" />
              <mxPoint x="370" y="545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-20" value="semaphoreAsync" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="560" y="830" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-21" value="ResponseFuture" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="560" y="885" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-106" target="R35EvjBFJ_EF52CEYh5g-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="925" y="790" />
              <mxPoint x="630" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-24" value="异步发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-23" vertex="1" connectable="0">
          <mxGeometry x="-0.0924" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-26" value="添加到responseTable中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="509.99882352941194" y="544.9964705882353" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-27" value="ResponseFture不会阻塞调用线程，是否超时是通过异步线程去轮询responseTable来检查完成" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="540" y="930" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-28" value="semaphoreOneWay" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=default;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="550" y="1030" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.999;entryY=0.63;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="Ah4ReLh6Q1P7ksSwNjXb-106" target="R35EvjBFJ_EF52CEYh5g-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="1054" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R35EvjBFJ_EF52CEYh5g-31" value="oneway发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="R35EvjBFJ_EF52CEYh5g-30" vertex="1" connectable="0">
          <mxGeometry x="0.5739" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="k0KbqB3zZJxyXm0jrGa-" name="注册Broker过程">
    <mxGraphModel dx="1278" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="4681" pageHeight="3300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_yIPhj9rPNJ6-8pi759T-10" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="310" y="90" width="510" height="260" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-3" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="370" y="150" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="_yIPhj9rPNJ6-8pi759T-1" target="_yIPhj9rPNJ6-8pi759T-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="205" />
              <mxPoint x="250" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-1" value="broker注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_yIPhj9rPNJ6-8pi759T-15" vertex="1" connectable="0">
          <mxGeometry x="-0.2446" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-1" value="broker A1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="390" y="180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="_yIPhj9rPNJ6-8pi759T-2" target="_yIPhj9rPNJ6-8pi759T-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-2" value="broker注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_yIPhj9rPNJ6-8pi759T-16" vertex="1" connectable="0">
          <mxGeometry x="-0.2905" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-2" value="broker A2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" parent="1" vertex="1">
          <mxGeometry x="390" y="250" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-4" value="broker-a" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="420" y="150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-6" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="620" y="150" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.015;entryY=0.625;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="_yIPhj9rPNJ6-8pi759T-7" target="_yIPhj9rPNJ6-8pi759T-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="940" y="205" />
              <mxPoint x="940" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-4" value="broker注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_yIPhj9rPNJ6-8pi759T-19" vertex="1" connectable="0">
          <mxGeometry x="-0.179" y="1" relative="1" as="geometry">
            <mxPoint x="-61" y="-198" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-7" value="broker B1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="640" y="180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="_yIPhj9rPNJ6-8pi759T-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="700" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-3" value="broker注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_yIPhj9rPNJ6-8pi759T-21" vertex="1" connectable="0">
          <mxGeometry x="0.3885" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-8" value="broker B2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" parent="1" vertex="1">
          <mxGeometry x="640" y="250" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-9" value="broker-b" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="670" y="150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-11" value="Broker集群&lt;br&gt;clusterName ：DefaultClsuter" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="480" y="100" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-12" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="350" y="510" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-13" value="NameServer集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="540" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-17" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-a&lt;br&gt;brokerId:0&lt;br&gt;brokerAddr：IP1" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="90" y="350" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-18" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-a&lt;br&gt;brokerId:1&lt;br&gt;brokerAddr：IP2" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" parent="1" vertex="1">
          <mxGeometry x="450" y="400" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-20" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-b&lt;br&gt;brkerId:0&lt;br&gt;brokerAddr：IP3" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="255" width="210" height="65" as="geometry" />
        </mxCell>
        <mxCell id="_yIPhj9rPNJ6-8pi759T-22" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-b&lt;br&gt;brkerId:1&lt;br&gt;brokerAddr：IP4" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="370" width="210" height="65" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="J4hqYVQZzS8hGBHsrGP5-5" target="J4hqYVQZzS8hGBHsrGP5-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="J4hqYVQZzS8hGBHsrGP5-5" target="J4hqYVQZzS8hGBHsrGP5-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="195" y="955" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-5" value="Topic" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="1" vertex="1">
          <mxGeometry x="120" y="715" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-6" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="350" y="650" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-7" value="broker A1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="370" y="680" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-8" value="broker A2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" parent="1" vertex="1">
          <mxGeometry x="370" y="750" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-9" value="broker-a" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-11" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="350" y="870" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-12" value="broker B1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="370" y="900" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-13" value="broker B2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" parent="1" vertex="1">
          <mxGeometry x="370" y="970" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-14" value="broker-b" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="870" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-16" value="writeQueueNum&lt;br&gt;readQueueNum" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="230" y="700" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="J4hqYVQZzS8hGBHsrGP5-18" value="writeQueueNum&lt;br&gt;readQueueNum" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="190" y="830" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="下线Broker过程" id="oZiuK1_Ct3jr9qxqkYC5">
    <mxGraphModel dx="1196" dy="642" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="4681" pageHeight="3300" math="0" shadow="0">
      <root>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-0" />
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-1" parent="n2FHsaRVzfUUc1OzZa6r-0" />
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="310" y="90" width="510" height="260" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-3" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="370" y="150" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="n2FHsaRVzfUUc1OzZa6r-1" source="n2FHsaRVzfUUc1OzZa6r-6" target="n2FHsaRVzfUUc1OzZa6r-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="205" />
              <mxPoint x="250" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bib-FxNzHH5KpTc2-uCK-4" value="下线" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="n2FHsaRVzfUUc1OzZa6r-4">
          <mxGeometry x="-0.204" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-6" value="broker A1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="390" y="180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="n2FHsaRVzfUUc1OzZa6r-1" source="n2FHsaRVzfUUc1OzZa6r-9" target="n2FHsaRVzfUUc1OzZa6r-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bib-FxNzHH5KpTc2-uCK-1" value="心跳" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="n2FHsaRVzfUUc1OzZa6r-7">
          <mxGeometry x="-0.2686" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-9" value="broker A2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="390" y="250" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-10" value="broker-a" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="420" y="150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-11" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="620" y="150" width="160" height="170" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.015;entryY=0.625;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="n2FHsaRVzfUUc1OzZa6r-1" source="n2FHsaRVzfUUc1OzZa6r-14" target="n2FHsaRVzfUUc1OzZa6r-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="940" y="205" />
              <mxPoint x="940" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bib-FxNzHH5KpTc2-uCK-3" value="心跳" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="n2FHsaRVzfUUc1OzZa6r-12">
          <mxGeometry x="-0.7566" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-14" value="broker B1&lt;br&gt;master" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="640" y="180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="n2FHsaRVzfUUc1OzZa6r-1" source="n2FHsaRVzfUUc1OzZa6r-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="700" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bib-FxNzHH5KpTc2-uCK-2" value="心跳" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="n2FHsaRVzfUUc1OzZa6r-15">
          <mxGeometry x="0.3831" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-17" value="broker B2&lt;br&gt;slave" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#fff2cc;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="640" y="250" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-18" value="broker-b" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="670" y="150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-19" value="Broker集群&lt;br&gt;clusterName ：DefaultClsuter" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="480" y="100" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-20" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="350" y="510" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-21" value="NameServer集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="400" y="540" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-22" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-a&lt;br&gt;brokerId:0&lt;br&gt;brokerAddr：IP1" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="90" y="350" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-23" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-a&lt;br&gt;brokerId:1&lt;br&gt;brokerAddr：IP2" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="450" y="400" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-24" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-b&lt;br&gt;brkerId:0&lt;br&gt;brokerAddr：IP3" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="940" y="255" width="210" height="65" as="geometry" />
        </mxCell>
        <mxCell id="n2FHsaRVzfUUc1OzZa6r-25" value="clusterName：DefaultCluster&lt;br&gt;brokerName：broker-b&lt;br&gt;brkerId:1&lt;br&gt;brokerAddr：IP4" style="text;html=1;strokeColor=default;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="n2FHsaRVzfUUc1OzZa6r-1">
          <mxGeometry x="700" y="370" width="210" height="65" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RrhDVSnSjtc_Cg8petwo" name="网络消息处理流程">
    <mxGraphModel dx="2129" dy="829" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2339" pageHeight="3300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="cAV5_1yl4BDbng60rxQt-18" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="560" y="110" width="500" height="360" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-25" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#ffcc99;" vertex="1" parent="1">
          <mxGeometry x="890" y="250" width="160" height="190" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-21" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#cdeb8b;dashed=1;dashPattern=1 1;" vertex="1" parent="1">
          <mxGeometry x="570" y="130" width="140" height="310" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.007;entryY=0.326;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-2" target="cAV5_1yl4BDbng60rxQt-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-20" value="发送请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="cAV5_1yl4BDbng60rxQt-19">
          <mxGeometry x="-0.1742" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-2" value="NettyRemotiongClient" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;strokeColor=#6c8ebf;fillColor=#dae8fc;gradientColor=#7ea6e0;" vertex="1" parent="1">
          <mxGeometry x="220" y="210" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-8" value="put到responseTable中" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;endArrow=classic;endFill=1;labelBackgroundColor=none;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-5" target="cAV5_1yl4BDbng60rxQt-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-5" target="cAV5_1yl4BDbng60rxQt-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-5" value="创建ResponseFuture" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="580" y="170" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-6" value="设置请求Id" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="760" y="130" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-7" target="cAV5_1yl4BDbng60rxQt-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="295" />
              <mxPoint x="750" y="295" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-15" value="异步写RemotingCommand" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="cAV5_1yl4BDbng60rxQt-14">
          <mxGeometry x="-0.218" y="2" relative="1" as="geometry">
            <mxPoint x="18" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-7" target="cAV5_1yl4BDbng60rxQt-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-7" value="responseTable" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="580" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-11" target="cAV5_1yl4BDbng60rxQt-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-11" value="Channel" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="910" y="280" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-16" value="ResponseFuture等待&lt;br&gt;业务线程1挂起" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="580" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-22" value="业务线程1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="610" y="140" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-23" value="网络IO" style="whiteSpace=wrap;html=1;fontColor=#000000;rounded=0;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="905" y="385" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-26" value="IO线程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="940" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-28" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#ffcc99;" vertex="1" parent="1">
          <mxGeometry x="210" y="570" width="155" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-29" target="cAV5_1yl4BDbng60rxQt-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-29" value="网络IO" style="whiteSpace=wrap;html=1;fontColor=#000000;rounded=0;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="225" y="700" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-30" target="cAV5_1yl4BDbng60rxQt-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-30" value="Channel" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="230" y="600" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-32" value="IO线程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="225" y="570" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-33" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;strokeColor=#36393d;fillColor=#cdeb8b;dashed=1;dashPattern=1 1;" vertex="1" parent="1">
          <mxGeometry x="210" y="280" width="160" height="250" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-35" value="responseTable&lt;br&gt;移除ResponseFuture" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="230" y="320" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-36" value="设置响应结果" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="227.5" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.865;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;labelBackgroundColor=none;fontColor=#000000;endArrow=classic;endFill=1;" edge="1" parent="1" source="cAV5_1yl4BDbng60rxQt-37" target="cAV5_1yl4BDbng60rxQt-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-39" value="线程唤醒" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="cAV5_1yl4BDbng60rxQt-38">
          <mxGeometry x="0.4717" y="3" relative="1" as="geometry">
            <mxPoint x="20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-37" value="唤醒原来等待的线程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#000000;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="227.5" y="460" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cAV5_1yl4BDbng60rxQt-41" value="业务线程2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=1 1;labelBackgroundColor=none;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="260" y="285" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="VfOsHVJnLkTFkvlYid9e" name="Broker架构">
    <mxGraphModel dx="1278" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2339" pageHeight="3300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vL9GRcuBrd7ApzOG439i-1" value="brokerConfig" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="90" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vL9GRcuBrd7ApzOG439i-2" value="nettyServerConfig" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="140" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vL9GRcuBrd7ApzOG439i-3" value="nettyClientConfig" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="190" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vL9GRcuBrd7ApzOG439i-4" value="messageStoreConfig" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="240" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WNDoje5bA23_5QXyql-z-1" value="配置类" style="shape=umlFrame;whiteSpace=wrap;html=1;width=120;height=30;boundedLbl=1;verticalAlign=middle;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="680" y="40" width="170" height="250" as="geometry" />
        </mxCell>
        <mxCell id="WNDoje5bA23_5QXyql-z-2" value="RemotingServer" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="370" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R5ptD45YeeT2vkTX0Ju6-1" value="FastRemotingServer" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="440" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R5ptD45YeeT2vkTX0Ju6-4" value="BrokerOuterAPI" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="300" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R5ptD45YeeT2vkTX0Ju6-7" value="ConsumerOffsetManager" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="170" width="150" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
